<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SETSe Core with time shift — SETSe_core_time_shift • rSETSe</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="SETSe Core with time shift — SETSe_core_time_shift" />
<meta property="og:description" content="Internal function. This is a variant of the SETse core algorithm. It runs the SETSe model to find the equilibrium position of the network,
it changes the time step if the algo is in the noisey zone. The function is called by auto_setse" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rSETSe</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SETSe Core with time shift</h1>
    
    <div class="hidden name"><code>SETSe_core_time_shift.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Internal function. This is a variant of the SETse core algorithm. It runs the SETSe model to find the equilibrium position of the network,
it changes the time step if the algo is in the noisey zone. The function is called by auto_setse</p>
    </div>

    <pre class="usage"><span class='fu'>SETSe_core_time_shift</span><span class='op'>(</span>
  <span class='va'>node_embeddings</span>,
  <span class='va'>ten_mat</span>,
  <span class='va'>non_empty_matrix</span>,
  <span class='va'>kvect</span>,
  <span class='va'>dvect</span>,
  <span class='va'>mass</span>,
  <span class='va'>tstep</span>,
  max_iter <span class='op'>=</span> <span class='fl'>1000</span>,
  coef_drag <span class='op'>=</span> <span class='fl'>1</span>,
  tol <span class='op'>=</span> <span class='fl'>0.002</span>,
  sparse <span class='op'>=</span> <span class='cn'>FALSE</span>,
  sample <span class='op'>=</span> <span class='fl'>1</span>,
  static_limit <span class='op'>=</span> <span class='cn'>NULL</span>,
  tstep_change <span class='op'>=</span> <span class='fl'>0.5</span>,
  dynamic_reset <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>node_embeddings</th>
      <td><p>A data frame The current dynamics and forces experienced by the node a data frame.</p></td>
    </tr>
    <tr>
      <th>ten_mat</th>
      <td><p>A data frame The current dynamics and forces experienced by the node a data frame.</p></td>
    </tr>
    <tr>
      <th>non_empty_matrix</th>
      <td><p>A numeric matrix. contains the index of the non-empty cells in the adjacency matrix. see details.</p></td>
    </tr>
    <tr>
      <th>kvect</th>
      <td><p>A numeric vector of the spring stiffnesses</p></td>
    </tr>
    <tr>
      <th>dvect</th>
      <td><p>A numeric vector of the initial distances between the nodes</p></td>
    </tr>
    <tr>
      <th>mass</th>
      <td><p>A numeric. This is the mass constant of the nodes in normalised networks this is set to 1.</p></td>
    </tr>
    <tr>
      <th>tstep</th>
      <td><p>A numeric value. The time step, measured in seconds, that will be used to calculate the new dynamic state</p></td>
    </tr>
    <tr>
      <th>max_iter</th>
      <td><p>An integer. The maximum number of iterations before stopping. Larger networks usually need more iterations.</p></td>
    </tr>
    <tr>
      <th>coef_drag</th>
      <td><p>A numeric value. Used to set a multiplier on the friction value. This is usualy determined by auto_SETSe</p></td>
    </tr>
    <tr>
      <th>tol</th>
      <td><p>A numeric. The tolerance factor for early stopping.</p></td>
    </tr>
    <tr>
      <th>sparse</th>
      <td><p>Logical. Whether or not the function should be run using sparse matrices. must match the actual matrix, this could prob be automated</p></td>
    </tr>
    <tr>
      <th>sample</th>
      <td><p>Integer. The dynamics will be stored only if the iteration number is a multiple of the sample. 
This can greatly reduce the size of the results file for large numbers of iterations. Must be a multiple of the max_iter</p></td>
    </tr>
    <tr>
      <th>static_limit</th>
      <td><p>Numeric. The maximum value the static force can reach before the algorithm terminates early. This
prevents calculation in a diverging system. The value should be set to some multiple greater than one of the force in the system.
If left blank the static limit is the system absolute mean force.</p></td>
    </tr>
    <tr>
      <th>tstep_change</th>
      <td><p>a numeric scaler. A value between 0 and one, the fraction the new timestep will be relative to the previous one</p></td>
    </tr>
    <tr>
      <th>dynamic_reset</th>
      <td><p>Logical. Whether the dynamic portion of the emebeddings is reset to zero when the timestep is changed
this can stop the momentum of the nodes forcing a divergence, but also can slow down the process. default is TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of three dataframes</p><ol>
<li><p>The network dynamics describing several key figures of the network during the convergence process, this includes the static_force</p></li>
<li><p>The node embeddings. Includes all data on the nodes the forces exerted on them position and dynamics at simulation termination</p></li>
<li><p>A data frame giving the time taken for the simulation as well as the number of nodes and edges. Node and edge data is given
  as this may differ from the total number of nodes and edges in the network depending on the method used for convergnence.
  For example if SETSe_bicomp is used then some simulations may contain as little as two nodes and 1 edge</p></li>
</ol>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is usally run inside a more easy to use function such as The SETSe function, SETse_bicomp or auto_SETSe. These
wrapper functions make the application of the SETse algorithm more straight foreword. However, this function is included
for completeness and to allow ground up experiments</p>
<p>The non_empty matrix contains the row, column position and absolute index and transpose index of the edges in the matrix
This means vectors can be used for most operations greatly reducing the amount of memory required and 
providing a modest speed increase. The non_empty_matrix is produced by the 'Prepare_data_for_find_network_balance' function.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jonathan Bourne.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


