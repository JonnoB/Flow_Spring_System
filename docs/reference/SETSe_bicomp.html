<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SETSe embedding on each bi-connected component using SETSe_auto — SETSe_bicomp • rsetse</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="SETSe embedding on each bi-connected component using SETSe_auto — SETSe_bicomp" />
<meta property="og:description" content="Performs the SETS embedding on a network using the bi-connected component/block-tree method. This is the most reliable method to 
perform SETSe embeddings and can be substantially quicker on certain network topologies." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rsetse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Binary-and-continuous-features.html">Binary and continuous feature embedding</a>
    </li>
    <li>
      <a href="../articles/separate-peels-quintet.html">Analysing multiple networks</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/JonnoB/rSETSe/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SETSe embedding on each bi-connected component using SETSe_auto</h1>
    <small class="dont-index">Source: <a href='https://github.com/JonnoB/rSETSe/blob/master/R/SETSe_bicomp.R'><code>R/SETSe_bicomp.R</code></a></small>
    <div class="hidden name"><code>SETSe_bicomp.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs the SETS embedding on a network using the bi-connected component/block-tree method. This is the most reliable method to 
perform SETSe embeddings and can be substantially quicker on certain network topologies.</p>
    </div>

    <pre class="usage"><span class='fu'>SETSe_bicomp</span><span class='op'>(</span>
  <span class='va'>g</span>,
  force <span class='op'>=</span> <span class='st'>"force"</span>,
  distance <span class='op'>=</span> <span class='st'>"distance"</span>,
  edge_name <span class='op'>=</span> <span class='st'>"edge_name"</span>,
  k <span class='op'>=</span> <span class='st'>"k"</span>,
  tstep <span class='op'>=</span> <span class='fl'>0.02</span>,
  <span class='va'>tol</span>,
  max_iter <span class='op'>=</span> <span class='fl'>20000</span>,
  mass <span class='op'>=</span> <span class='cn'>NULL</span>,
  sparse <span class='op'>=</span> <span class='cn'>FALSE</span>,
  sample <span class='op'>=</span> <span class='fl'>100</span>,
  static_limit <span class='op'>=</span> <span class='cn'>NULL</span>,
  hyper_iters <span class='op'>=</span> <span class='fl'>100</span>,
  hyper_tol <span class='op'>=</span> <span class='fl'>0.1</span>,
  hyper_max <span class='op'>=</span> <span class='fl'>30000</span>,
  drag_min <span class='op'>=</span> <span class='fl'>0.01</span>,
  drag_max <span class='op'>=</span> <span class='fl'>100</span>,
  tstep_change <span class='op'>=</span> <span class='fl'>0.2</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>,
  noisy_termination <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>g</th>
      <td><p>An igraph object</p></td>
    </tr>
    <tr>
      <th>force</th>
      <td><p>A character string. This is the node attribute that contains the force the nodes exert on the network.</p></td>
    </tr>
    <tr>
      <th>distance</th>
      <td><p>A character string. The edge attribute that contains the original/horizontal distance between nodes.</p></td>
    </tr>
    <tr>
      <th>edge_name</th>
      <td><p>A character string. This is the edge attribute that contains the edge_name of the edges.</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>A character string. This is k for the moment don't change it.</p></td>
    </tr>
    <tr>
      <th>tstep</th>
      <td><p>A numeric. The time interval used to iterate through the network dynamics.</p></td>
    </tr>
    <tr>
      <th>tol</th>
      <td><p>A numeric. The tolerance factor for early stopping.</p></td>
    </tr>
    <tr>
      <th>max_iter</th>
      <td><p>An integer. The maximum number of iterations before stopping. Larger networks usually need more iterations.</p></td>
    </tr>
    <tr>
      <th>mass</th>
      <td><p>A numeric. This is the mass constant of the nodes in normalised networks. 
Default is set to NULL and call mass_adjuster to set the mass for each biconnected component</p></td>
    </tr>
    <tr>
      <th>sparse</th>
      <td><p>Logical. Whether sparse matrices will be used. This becomes valuable for larger networks</p></td>
    </tr>
    <tr>
      <th>sample</th>
      <td><p>Integer. The dynamics will be stored only if the iteration number is a multiple of the sample. 
This can greatly reduce the size of the results file for large numbers of iterations. Must be a multiple of the max_iter</p></td>
    </tr>
    <tr>
      <th>static_limit</th>
      <td><p>Numeric. The maximum value the static force can reach before the algorithm terminates early. This
prevents calculation in a diverging system. The value should be set to some multiple greater than one of the force in the system.
If left blank the static limit is the system absolute mean force.</p></td>
    </tr>
    <tr>
      <th>hyper_iters</th>
      <td><p>integer. The hyper parameter that determines the number of iterations allowed to find an acceptable convergence value.</p></td>
    </tr>
    <tr>
      <th>hyper_tol</th>
      <td><p>numeric. The convergence tolerance when trying to find the minimum value</p></td>
    </tr>
    <tr>
      <th>hyper_max</th>
      <td><p>integer. The maximum number of iterations that SETSe will go through whilst searching for the minimum.</p></td>
    </tr>
    <tr>
      <th>drag_min</th>
      <td><p>integer. A power of ten. The lowest drag value to be used in the search</p></td>
    </tr>
    <tr>
      <th>drag_max</th>
      <td><p>integer. A power of ten. if the drag exceeds this value the tstep is reduced</p></td>
    </tr>
    <tr>
      <th>tstep_change</th>
      <td><p>numeric. A value between 0 and 1 that determines how much the time step will be reduced by default value is 0.5</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical. This value sets whether messages generated during the process are suppressed or not.</p></td>
    </tr>
    <tr>
      <th>noisy_termination</th>
      <td><p>Stop the process if the static force does not monotonically decrease.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list containing 5 dataframes.</p><ol>
<li><p>The node embeddings. Includes all data on the nodes the forces exerted on them position and dynamics at simulation termination</p></li>
<li><p>The network dynamics describing several key figures of the network during the convergence process, this includes the static_force</p></li>
<li><p>memory_df A dataframe recording the iteration history of the convergence of each component.</p></li>
<li><p>A data frame giving the time taken for the simulation as well as the number of nodes and edges. Node and edge data is given
  as this may differ from the total number of nodes and edges in the network depending on the method used for convergence.
  For example if SETSe_bicomp is used then some simulations may contain as little as two nodes and 1 edge</p></li>
<li><p>time taken. the amount of time taken per component, includes the edge and nodes of each component</p></li>
</ol>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This approach can be faster for larger graphs or graphs with many nodes of degree 2, or networks with a low clustering coefficient.
This is because although the algorithm is very efficient the topology of larger graphs make them more difficult to converge.
Large graph tend to be made of 1 very large biconnected component and many very small biconnected components. As the mass of the 
system is concentrated in the major biconnected component the small ones can be knocked around by minor movements of the major. This
leads to long convergence times. By solving all biconnected components separately and then reassembling the block tree at the end,
the system can be converged considerably faster. In addition the smaller biconnected components iterate faster than a single large one.</p>
<p>Setting mass to the absolute system force divided by the total nodes, often leads to faster convergence. As such
When mass is left to the default of NULL, the mean force value is used.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='SETSe_auto.html'>SETSe_auto</a></code> <code><a href='SETSe.html'>SETSe</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>234</span><span class='op'>)</span> <span class='co'>#set the random see for generating the network</span>
<span class='va'>g</span> <span class='op'>&lt;-</span> <span class='fu'><a href='generate_peels_network.html'>generate_peels_network</a></span><span class='op'>(</span>type <span class='op'>=</span> <span class='st'>"E"</span><span class='op'>)</span>
<span class='va'>embeddings</span> <span class='op'>&lt;-</span> <span class='va'>g</span> <span class='op'>%&gt;%</span>
<span class='co'>#prepare the network for a binary embedding</span>
<span class='fu'><a href='prepare_SETSe_binary.html'>prepare_SETSe_binary</a></span><span class='op'>(</span><span class='va'>.</span>, node_names <span class='op'>=</span> <span class='st'>"name"</span>, k <span class='op'>=</span> <span class='fl'>1000</span>, 
                     force_var <span class='op'>=</span> <span class='st'>"class"</span>, 
                     positive_value <span class='op'>=</span> <span class='st'>"A"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
<span class='co'>#embed the network using  SETSe_bicomp</span>
  <span class='fu'>SETSe_bicomp</span><span class='op'>(</span>tol <span class='op'>=</span> <span class='fl'>0.02</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jonathan Bourne.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


